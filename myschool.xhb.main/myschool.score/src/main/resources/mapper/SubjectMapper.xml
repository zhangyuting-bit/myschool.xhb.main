<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zb.mapper.SubjectMapper">
    <select id="getUserByGradeId" resultType="com.zb.entity.User">
        SELECT
            *
        FROM
            `user`
        WHERE
            gradeId=#{gradeId}
    </select>

    <select id="getUserByUserId" resultType="com.zb.entity.User">
        SELECT
            *
        FROM
            `user`
        WHERE
            userId=#{userId}
    </select>

    <select id="getGradeByUserId" resultType="com.zb.entity.Grade">
        SELECT
            gradeId
        FROM
            `user`
        WHERE
            userId=#{userId}
    </select>
    <!---->
    <insert id="addSubject">
        INSERT INTO `subject`
            (`subjectId`,
             `scoreId`,
             `type`)
        VALUES (#{subjectId},
                #{scoreId},
                #{type});
    </insert>
    
    <select id="getSubjectByScoreId" resultType="com.zb.entity.Subject">
        SELECT
            *
        FROM
            `subject`
        WHERE
            scoreId=#{scoreId}
    </select>

    <update id="updateSubject">
        UPDATE `subject`
        SET
          `high` = #{high},
          `avg` = #{avg},
          `low` = #{low}
        WHERE `subjectId` = #{subjectId};
    </update>

    <delete id="delSubject">
        delete from `subject` where scoreId=#{scoreId}
    </delete>
</mapper>